# 02-FAQ（常見誤解與坑）

## Q1：RAG = 向量庫 + LLM 嗎？

不完整。RAG 是一個系統：資料工程、切分、metadata、權限、檢索策略、rerank、生成策略、評估觀測都缺一不可。

## Q2：為什麼我換了更強的模型還是不準？

最常見原因是：

- chunking 不對（切太大/太小/沒結構）
- metadata/filters 不完整（候選集合就錯了）
- 沒有 rerank（候選排序不準）
- prompt 沒有引用/拒答規則（模型自然會補完）

## Q3：只用向量檢索可以嗎？

可以起步，但通常不夠穩。含條款編號、錯誤碼、型號、專有名詞時，混合檢索（全文 + 向量）常常大幅提升品質。

## Q4：如何避免越權或資料外洩？

- tenant/ACL 必須在 DB 查詢就 filter（拿不到比拿到再丟掉安全）
- trace 與審計必做（事故時可回放）
- prompt 要把證據當資料，抵禦提示注入

## Q5：上線後答案為什麼突然變了？

通常是版本漂移：

- 文件更新、切分更新、embedding 更新、prompt 更新都會造成差異
- 沒有版本化（active_version、embedding_model_version、prompt_version）就會「找不到原因」

## 本章小結

- 多數 RAG 失敗不是模型不夠大，而是資料、切分、metadata、權限與觀測沒有做到位。
- 先做出可回放與可版本化，才有資格談優化與規模化。
- 若不能拒答與追問，系統會以硬答方式把不確定變成事故。

## 延伸閱讀

- [01-名詞表與縮寫](../00-導讀/01-名詞表與縮寫.md)
- [01-Checklist（上線前-事故後）](01-Checklist（上線前-事故後）.md)

